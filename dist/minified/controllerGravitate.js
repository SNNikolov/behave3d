"use strict";Behave3d.controllerGravitate=function(a){Behave3d.Controller.call(this,a,!0)};Behave3d.controllerGravitate.prototype=Object.create(Behave3d.Controller.prototype);Behave3d.controllerGravitate.prototype.default_params={strength:1,scale:0.1,source_id:"",paths:""};Behave3d.controllerGravitate.prototype.construct=function(a,b){if(b=="params"){this.path_controllers=this.paths!=""?this.paths.split(" "):[];for(var i=0;i<this.path_controllers.length;i++){this.path_controllers[i]=this.getAnotherController(this.path_controllers[i])}}};Behave3d.controllerGravitate.prototype.update=function(){if(this.paused)return;if(this.path_controllers.length>0)var a=this.getPathPos(this.path_controllers);else{var b=Behave3d.getElementPos(this.owner.element,!0),c=Behave3d.getElementPos(this.source_id,!0),d=this.owner.pos,a={x:c.x-b.x+d.x,y:c.y-b.y+d.y,z:c.z-b.z+d.z}}this.applyGravityForce(a,this.strength,this.scale,0)};Behave3d.registerController("gravitate",Behave3d.controllerGravitate);