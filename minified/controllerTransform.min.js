"use strict";Behave3d.controllerTransform=function(t){Behave3d.Controller.call(this,t)},Behave3d.controllerTransform.prototype=Object.create(Behave3d.Controller.prototype),Behave3d.controllerTransform.prototype.events=[],Behave3d.controllerTransform.prototype.messages=[],Behave3d.controllerTransform.prototype.default_params={dx:0,dy:0,dz:0,sx:1,sy:1,sz:1,rx:0,ry:0,rz:0,ra:0,flatten:!1},Behave3d.controllerTransform.prototype.update=function(){(this.paramsHaveChanged()||!this.computed_params)&&(this.computed_params=this.getComputedLengths(["dx"],["dy"],["dz"])),(0!=this.dx||0!=this.dy||0!=this.dz)&&this.addTransform({type:Behave3d.transforms.translate,dx:this.computed_params.dx,dy:this.computed_params.dy,dz:this.computed_params.dz}),0!=this.ra&&this.addTransform({type:Behave3d.transforms.rotate,rx:this.rx,ry:this.ry,rz:this.rz,ra:this.ra}),(1!=this.sx||1!=this.sy||1!=this.sz)&&this.addTransform({type:Behave3d.transforms.scale,sx:this.sx,sy:this.sy,sz:this.sz}),this.flatten&&this.addTransform({type:Behave3d.transforms.flatten,flatten:!0})},Behave3d.registerController("transform",Behave3d.controllerTransform);