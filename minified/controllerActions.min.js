"use strict";Behave3d.controllerActions=function(e){Behave3d.Controller.call(this,e)},Behave3d.controllerActions.prototype=Object.create(Behave3d.Controller.prototype),Behave3d.controllerActions.prototype.events=[],Behave3d.controllerActions.prototype.messages=["remove_element","pause","unpause"],Behave3d.controllerActions.prototype.default_params={},Behave3d.controllerActions.prototype.DOMEvents=["focus","blur","click","mouseover","mouseout"],Behave3d.controllerActions.prototype.construct=function(e,t){"params"==t&&(this.handledDOMEvents=[],this.handledDOMEvents_useCapture=[],this.eventHandler=this.eventHandler.bind(this),this.eventHandler_useCapture=this.eventHandler_useCapture.bind(this))},Behave3d.controllerActions.prototype.message=function(e,t){if("remove_element"==e)this.owner.removeFromPool(),this.owner.element.parentNode.removeChild(this.owner.element);else if("pause"==e||"unpause"==e)for(var n="pause"==e,o=0;o<this.owner.controllers.length;o++)this.owner.controllers[o].set({paused:n});var r=this.fireEvent(e,t);return"show"!=e||r?"hide"!=e||r||(this.owner.element.style.display="none"):this.owner.element.style.display="block",this},Behave3d.controllerActions.prototype.addEventHandler=function(e,t){Behave3d.Controller.prototype.addEventHandler.call(this,e,t);var n="_capture"==e.substr(-8);n&&(e=e.substr(0,e.length-8));var o=n?this.handledDOMEvents_useCapture:this.handledDOMEvents;if(this.DOMEvents.indexOf(e)>=0&&-1==o.indexOf(e)){var r=n?this.eventHandler_useCapture:this.eventHandler;this.owner.element.addEventListener(e,r,n),o.push(e)}},Behave3d.controllerActions.prototype.eventHandler=function(e){var t={event:e};this.fireEvent(e.type,t)},Behave3d.controllerActions.prototype.eventHandler_useCapture=function(e){var t={event:e};this.fireEvent(e.type+"_capture",t)},Behave3d.registerController("actions",Behave3d.controllerActions);