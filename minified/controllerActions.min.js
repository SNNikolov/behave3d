"use strict";Behave3d.controllerActions=function(e){Behave3d.Controller.call(this,e)},Behave3d.controllerActions.prototype=Object.create(Behave3d.Controller.prototype),Behave3d.controllerActions.prototype.events=[],Behave3d.controllerActions.prototype.messages=["remove_element","pause","unpause"],Behave3d.controllerActions.prototype.default_params={},Behave3d.controllerActions.prototype.DOMEvents=["click","dblclick","mouseover","mouseout","mousedown","mouseup","mousemove","dragstart","drag","dragenter","dragleave","dragover","dragend","drop","keydown","keypress","keyup","load","unload","abort","error","resize","scroll","focus","blur","focusin","focusout","select","change","submit","reset"],Behave3d.controllerActions.prototype.construct=function(e,t){"params"==t&&(this.handledDOMEvents=[],this.handledDOMEvents_useCapture=[],this.eventHandler=this.eventHandler.bind(this),this.eventHandler_useCapture=this.eventHandler_useCapture.bind(this),this.originalDisplay=window.getComputedStyle(this.owner.element,null).getPropertyValue("display"),"none"==this.originalDisplay&&(this.originalDisplay="block"))},Behave3d.controllerActions.prototype.message=function(e,t){if("remove_element"==e)this.owner.removeFromPool(),this.owner.element.parentNode.removeChild(this.owner.element);else if("pause"==e||"unpause"==e)for(var o="pause"==e,r=0;r<this.owner.controllers.length;r++)this.owner.controllers[r].set({paused:o});var n=this.fireEvent(e,t);return"show"!=e||n?"hide"!=e||n||(this.originalDisplay=window.getComputedStyle(this.owner.element,null).getPropertyValue("display"),this.owner.element.style.display="none"):this.owner.element.style.display=this.originalDisplay,this},Behave3d.controllerActions.prototype.addEventHandler=function(e,t){Behave3d.Controller.prototype.addEventHandler.call(this,e,t);var o="_capture"==e.substr(-8);o&&(e=e.substr(0,e.length-8));var r=o?this.handledDOMEvents_useCapture:this.handledDOMEvents;if(this.DOMEvents.indexOf(e)>=0&&-1==r.indexOf(e)){var n=o?this.eventHandler_useCapture:this.eventHandler;this.owner.element.addEventListener(e,n,o),r.push(e)}},Behave3d.controllerActions.prototype.eventHandler=function(e){var t={event:e};this.fireEvent(e.type,t)},Behave3d.controllerActions.prototype.eventHandler_useCapture=function(e){var t={event:e};this.fireEvent(e.type+"_capture",t)},Behave3d.registerController("actions",Behave3d.controllerActions);