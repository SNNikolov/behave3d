"use strict";Behave3d.controllerGravitate=function(t){Behave3d.Controller.call(this,t,!0)},Behave3d.controllerGravitate.prototype=Object.create(Behave3d.Controller.prototype),Behave3d.controllerGravitate.prototype.default_params={strength:1,scale:.1,source_id:"",paths:""},Behave3d.controllerGravitate.prototype.construct=function(t,e){if("params"==e){this.path_controllers=""!=this.paths?this.paths.split(" "):[];for(var r=0;r<this.path_controllers.length;r++)this.path_controllers[r]=this.getAnotherController(this.path_controllers[r])}},Behave3d.controllerGravitate.prototype.update=function(){if(!this.paused){if(this.path_controllers.length>0)var t=this.getPathPos(this.path_controllers);else var e=Behave3d.getElementPos(this.owner.element,!0),r=Behave3d.getElementPos(this.source_id,!0),o=this.owner.pos,t={x:r.x-e.x+o.x,y:r.y-e.y+o.y,z:r.z-e.z+o.z};this.applyGravityForce(t,this.strength,this.scale,0)}},Behave3d.registerController("gravitate",Behave3d.controllerGravitate);