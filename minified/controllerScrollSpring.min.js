"use strict";Behave3d.controllerScrollSpring=function(t){Behave3d.Controller.call(this,t,!0)},Behave3d.controllerScrollSpring.prototype=Object.create(Behave3d.Controller.prototype),Behave3d.controllerScrollSpring.prototype.default_params={spring_acc:.1,spring_vdamp:.8,strength:1},Behave3d.controllerScrollSpring.prototype.construct=function(t,r){"params"==r&&(this.prevScroll=this.getScrollPos(),this.x=0,this.y=0,this.vx=0,this.vy=0)},Behave3d.controllerScrollSpring.prototype.update=function(){if(!this.paused){var t=this.getScrollPos(),r=t.x-this.prevScroll.x,e=t.y-this.prevScroll.y;this.vx-=r*this.strength,this.vy-=e*this.strength,this.vx-=this.x*this.spring_acc,this.vy-=this.y*this.spring_acc,this.vx*=this.spring_vdamp,this.vy*=this.spring_vdamp,this.x+=this.vx,this.y+=this.vy}this.prevScroll=t,this.addTransform({type:Behave3d.transforms.translate,dx:this.x,dy:this.y,dz:0})},Behave3d.controllerScrollSpring.prototype.getScrollPos=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Behave3d.registerController("scrollSpring",Behave3d.controllerScrollSpring);