"use strict";Behave3d.controllerBrownMovement=function(t){Behave3d.Controller.call(this,t)},Behave3d.controllerBrownMovement.prototype=Object.create(Behave3d.Controller.prototype),Behave3d.controllerBrownMovement.prototype.default_params={position:2,rotation:Behave3d.consts.ROTATE_ONE_TURN/18,opacity:0},Behave3d.controllerBrownMovement.prototype.update=function(){this.paused||((this.paramsHaveChanged()||!this.computed_params)&&(this.computed_params=this.getComputedLengths(["position"])),this.position>0&&this.addTransform({type:Behave3d.transforms.translate,dx:(2*Math.random()-1)*this.computed_params.position,dy:(2*Math.random()-1)*this.computed_params.position,dz:(2*Math.random()-1)*this.computed_params.position}),this.rotation>0&&this.addTransform({type:Behave3d.transforms.rotate,rx:2*Math.random()-1,ry:2*Math.random()-1,rz:2*Math.random()-1,ra:Math.random()*this.rotation}),this.opacity>0&&this.addTransform({type:Behave3d.transforms.opacity,opacity:1+Math.random()*this.opacity-this.opacity}))},Behave3d.registerController("brownMovement",Behave3d.controllerBrownMovement);